# Livermore Strategy - MT5 交易系统

## 概述

Livermore Strategy 是一个基于多重技术指标的交易系统，包含指标版本和EA版本。该系统结合了GMMA（Guppy Multiple Moving Average）、SuperTrend和MACD指标来生成交易信号。

## 文件说明

### 1. `indicator.pine` - Pine Script 原始策略
- **用途**：TradingView平台的原始策略代码
- **功能**：显示买入/卖出信号，交易记录和盈亏连线
- **适用平台**：TradingView

### 2. `LivermoreStrategy.mq5` - MT5 指标版本
- **用途**：在MT5图表上显示交易信号
- **功能**：可视化买入/卖出信号，交易标签和盈亏连线
- **适用场景**：信号确认、手动交易、策略验证

### 3. `LivermoreStrategyEA.mq5` - MT5 EA完整版本
- **用途**：全自动交易EA
- **功能**：自动开仓、平仓、移动止损、风险管理
- **适用场景**：全自动交易、实盘交易

### 4. `LivermoreStrategyWithoutPositionManagement.mq5` - MT5 EA简化版本
- **用途**：简化的自动交易EA
- **功能**：自动开仓、平仓，无移动止损
- **适用场景**：信号交易、手动仓位管理

## 策略原理

### 核心指标组合

1. **GMMA (Guppy Multiple Moving Average)**
   - 短期组：EMA(3,5,8,10,12,15)
   - 长期组：EMA(30,35,40,45,50,60)
   - 作用：判断趋势方向和强度

2. **SuperTrend**
   - 基于ATR的动态支撑阻力线
   - 作用：确认趋势方向和入场时机

3. **MACD**
   - 快线、慢线、信号线
   - 作用：动量确认（可选）

### 交易信号

#### 买入信号
- GMMA短期组上穿长期组
- 价格在SuperTrend线上方
- SuperTrend呈上升趋势

#### 卖出信号
- GMMA短期组下穿长期组
- 价格在SuperTrend线下方
- SuperTrend呈下降趋势

## 安装和使用指南

### 步骤1：文件安装

#### 指标版本安装
1. 将 `LivermoreStrategy.mq5` 复制到：
   ```
   MT5安装目录/MQL5/Indicators/
   ```

2. 重启MT5或按F4刷新导航器

3. 在导航器中找到"自定义指标" → "LivermoreStrategy"

4. 拖拽到图表上

#### EA版本安装
1. 将EA文件复制到：
   ```
   MT5安装目录/MQL5/Experts/
   ```

2. 重启MT5或按F4刷新导航器

3. 在导航器中找到"专家顾问" → 选择对应的EA

4. 拖拽到图表上

### 步骤2：参数设置

#### 策略参数
- **ATR周期**：默认10，用于SuperTrend计算
- **SuperTrend因子**：默认3.0，调整敏感度
- **MACD参数**：快线12，慢线26，信号线9

#### 交易参数
- **手数**：固定手数或基于风险计算
- **魔术数字**：用于识别EA的订单
- **滑点**：允许的价格滑点
- **止损/止盈**：风险控制参数

#### 风险管理
- **最大风险百分比**：每笔交易的最大风险
- **时间过滤**：限制交易时间段

### 步骤3：使用建议

#### 指标版本使用
1. **信号确认**：等待所有条件同时满足
2. **手动交易**：根据信号手动开仓
3. **策略验证**：在历史数据上测试效果

#### EA版本使用
1. **模拟测试**：先在模拟账户测试
2. **参数优化**：根据品种调整参数
3. **风险控制**：设置合理的风险参数
4. **监控运行**：定期检查EA运行状态

## 参数优化建议

### 不同品种的参数调整

#### 主要货币对 (EUR/USD, GBP/USD)
```
ATR周期: 10-14
SuperTrend因子: 2.5-3.5
止损点数: 80-120
止盈点数: 160-240
```

#### 商品货币 (AUD/USD, NZD/USD)
```
ATR周期: 12-16
SuperTrend因子: 3.0-4.0
止损点数: 100-150
止盈点数: 200-300
```

#### 黄金 (XAU/USD)
```
ATR周期: 14-20
SuperTrend因子: 3.5-4.5
止损点数: 200-300
止盈点数: 400-600
```
hello
### 时间框架选择
- **M5-M15**：短线交易，参数更敏感
- **M30-H1**：中线交易，平衡参数
- **H4-D1**：长线交易，参数更稳定

## 风险管理

### 资金管理
1. **单笔风险**：不超过账户资金的2-3%
2. **总风险**：同时持仓风险不超过10%
3. **手数计算**：基于止损距离和风险百分比

### 风险控制
1. **止损设置**：必须设置止损
2. **时间过滤**：避免重要新闻时段
3. **品种分散**：不要集中在单一品种

## 常见问题

### Q1: EA不交易怎么办？
**A**: 检查以下项目：
- 自动交易是否开启
- EA是否允许交易
- 账户是否有足够资金
- 是否在交易时间段内

### Q2: 信号太多或太少？
**A**: 调整参数：
- 增加ATR周期或SuperTrend因子减少信号
- 减少参数增加信号频率

### Q3: 如何优化参数？
**A**: 使用策略测试器：
1. 打开策略测试器
2. 选择EA和历史数据
3. 设置优化参数范围
4. 运行优化测试

### Q4: 移动止损不工作？
**A**: 检查：
- 是否启用了移动止损
- 移动止损参数是否合理
- 经纪商是否支持移动止损

## 注意事项

### 重要提醒
1. **风险警告**：外汇交易存在高风险，可能导致资金损失
2. **测试建议**：实盘前务必充分测试
3. **参数调整**：根据市场环境调整参数
4. **监控运行**：定期检查EA运行状态

### 技术支持
- 确保MT5版本为最新
- 检查网络连接稳定性
- 定期备份EA设置

### 版本更新
- 定期检查策略更新
- 关注市场环境变化
- 根据表现调整参数

## 免责声明

本交易系统仅供学习和研究使用，不构成投资建议。使用本系统进行实盘交易的风险由用户自行承担。请在充分了解风险的前提下谨慎使用。

---

**最后更新**：2024年12月
**版本**：v1.0
**作者**：Livermore Strategy Team
